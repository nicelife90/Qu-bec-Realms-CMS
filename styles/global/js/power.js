if(typeof $WH=="undefined"){$WH={wowheadRemote:true}}if(typeof $WowheadPower=="undefined"){var $WowheadPower=new function(){var Z=$WH.wowheadRemote;var D={applyto:3},x=document.getElementsByTagName("head")[0],l,S,W,N,z,ad,Q,O,n=0,ah=false,R={},m={},E={},L={},X={},ak={},i={},j={},h={},f={},ac=1,G=1,V=0,T=1,o=2,A=3,U=4,Y=5,C=1,q=2,I=3,M=5,B=6,u=10,d=101,p=100,s=200,w=15,K=15,H={loading:"Loading...",noresponse:"No response from server :(",achievementcomplete:"Achievement earned by $1 on $2/$3/$4"},y={1:[R,"npc","NPC"],2:[m,"object","Object"],3:[E,"item","Item"],5:[L,"quest","Quest"],6:[X,"spell","Spell"],10:[ak,"achievement","Achievement"],100:[h,"profile","Profile"],101:[i,"transmog-set","Transmog Set"],200:[f,"petability","Pet Ability"]},aj={3:{url:"/data=item-scaling"},6:{url:"/data=spell-scaling"}},g={0:"enus",2:"frfr",3:"dede",6:"eses",7:"ruru",8:"ptbr",ptr:"ptr",beta:"beta"},c={wotlk:"www",cata:"www"};if(Z){var b={getId:function(){return 0},getName:function(){return"enus"}}}function ae(){if(Z){var am=document.createElement("script");am.src="//wowjs.zamimg.com/js/basic.js?5";x.appendChild(am)}else{aa();var an=$WH.isset("g_ptractive")&&g_ptractive;if(!an){c.ptr="www"}}}function aa(){if(ah){return}ah=true;$WH.aE(document,"mouseover",F)}this.init=function(){if(Z){$WH.ae(x,$WH.ce("link",{type:"text/css",href:"//wowcss.zamimg.com/css/basic.css?5",rel:"stylesheet"}))}aa()};function v(am){var an=$WH.g_getCursorPos(am);Q=an.x;O=an.y}function ag(aA,aw){if(aA.nodeName!="A"&&aA.nodeName!="AREA"){return -2323}if(!aA.href.length&&!aA.rel){return}if(aA.rel&&aA.rel.indexOf("np")!=-1){return}var ar,aq,ao,an,at={};z=at;var am=function(aB,aD,aC){if(aD=="buff"||aD=="sock"||aD=="map"){at[aD]=true}else{if(aD=="rand"||aD=="ench"||aD=="lvl"||aD=="c"||aD=="diff"){at[aD]=parseInt(aC)}else{if(aD=="gems"||aD=="pcs"||aD=="forg"||aD=="know"){at[aD]=aC.split(":")}else{if(aD=="who"||aD=="domain"){at[aD]=aC}else{if(aD=="when"){at[aD]=new Date(parseInt(aC))}}}}}};var av=false;if(D.applyto&1){aq=2;ao=3;if(aA.href.indexOf("http://")==0||aA.href.indexOf("https://")==0){ar=1;an=aA.href.match(/^https?:\/\/(.+?)?\.?(?:wowhead|thottbot)\.com\/\??(item|quest|spell|achievement|transmog-set|statistic|npc|object|petability)=([0-9]+)/);if(an==null){an=aA.href.match(/^https?:\/\/(.+?)?\.?(?:wowhead|thottbot)\.com\/\??(profile)=([^&#]+)/)}G=0}else{av=true;an=aA.href.match(/()\/\??(item|quest|spell|achievement|transmog-set|statistic|npc|object|petability)=([0-9]+)/);if(an==null){an=aA.href.match(/()\/\??(profile)=([^&#]+)/)}G=1}}if(an==null&&aA.rel&&(D.applyto&2)){ar=0;aq=1;ao=2;an=aA.rel.match(/(item|quest|spell|achievement|transmog-set|statistic|npc|object|petability).?([0-9]+)/);if(an==null){an=aA.rel.match(/(profile).?([^&#]+)/)}G=1}aA.href.replace(/([a-zA-Z]+)=?([a-zA-Z0-9:-]*)/g,am);if(aA.rel){aA.rel.replace(/([a-zA-Z]+)=?([a-zA-Z0-9:-]*)/g,am)}if(at.gems&&at.gems.length>0){var au;for(au=Math.min(3,at.gems.length-1);au>=0;--au){if(parseInt(at.gems[au])){break}}++au;if(au==0){delete at.gems}else{if(au<at.gems.length){at.gems=at.gems.slice(0,au)}}}if(an){var az,ap="www";ad=aA;if(at.domain){ap=at.domain}else{if(ar&&an[ar]){ap=an[ar].split(".")[0]}else{if(av){if($WH.isset("g_beta")&&g_beta){ap="mop"}else{if($WH.isset("g_ptr")&&g_ptr){ap="ptr"}else{if($WH.isset("g_old")&&g_old){ap="old"}}}}}}if(c[ap]){ap=c[ap]}az=$WH.g_getLocaleFromDomain(ap);if(ap=="ptr"){az="ptr"}else{if(ap=="beta"||ap=="mop"){az="beta"}}N=ap;if(aA.href.indexOf("#")!=-1&&document.location.href.indexOf(an[aq]+"="+an[ao])!=-1){return}n=((aA.parentNode.className.indexOf("icon")==0&&aA.parentNode.nodeName=="DIV")?1:0);if(!aA.onmouseout){if(n==0){aA.onmousemove=a}aA.onmouseout=af}v(aw);var ay=$WH.g_getIdFromTypeName(an[aq]),ax=an[ao];J(ay,ax,az,at)}}function F(ao){ao=$WH.$E(ao);var an=ao._target;var am=0;while(an!=null&&am<5&&ag(an,ao)==-2323){an=an.parentNode;++am}}function a(am){am=$WH.$E(am);v(am);$WH.Tooltip.move(Q,O,0,0,w,K)}function af(){l=null;ad=null;$WH.Tooltip.hide()}function ab(am,an){return(z&&z.buff?"buff":"tooltip")+(an?an:"")+"_"+g[am]}function al(am){return(z&&z.buff?"buff":"")+"spells_"+g[am]}function r(an,ap,ao){var am=y[an][0];if(am[ap]==null){am[ap]={}}if(am[ap].status==null){am[ap].status={}}if(am[ap].response==null){am[ap].response={}}if(am[ap].status[ao]==null){am[ap].status[ao]=V}}function J(an,ar,ap,aq){if(!aq){aq={}}var ao=k(ar,aq);l=an;S=ao;W=ap;z=aq;r(an,ao,ap);var am=y[an][0];if(am[ao].status[ap]==U||am[ao].status[ap]==A){ai(am[ao][ab(ap)],am[ao].icon,am[ao].map,am[ao][al(ap)],am[ao][ab(ap,2)])}else{if(am[ao].status[ap]==T||am[ao].status[ap]==Y){ai(H.loading)}else{e(an,ar,ap,null,aq)}}}function e(aw,aq,ax,ao,ar){var am=k(aq,ar);var au=y[aw][0];if(au[am].status[ax]!=V&&au[am].status[ax]!=o){return}au[am].status[ax]=T;if(!ao){au[am].timer=setTimeout(function(){t.apply(this,[aw,am,ax])},333)}var ap="";for(var at in ar){if(at!="rand"&&at!="ench"&&at!="gems"&&at!="sock"&&at!="diff"){continue}if(typeof ar[at]=="object"){ap+="&"+at+"="+ar[at].join(":")}else{if(ar[at]===true){ap+="&"+at}else{ap+="&"+at+"="+ar[at]}}}var av=$WH.g_getDomainFromLocale(ax);if(ax=="ptr"){av="ptr"}else{if(ax=="beta"){av="mop"}}var an="";if(typeof g_dev=="undefined"||!g_dev){an+=document.location.protocol+"//"+av+".wowhead.com"}else{if(window.location.hostname.indexOf("dev.wowhead.com")!=-1){if(av!="www"&&window.location.hostname.indexOf(av)!=0){an+=document.location.protocol+"//"+av+"."+window.location.hostname}}}$WH.g_ajaxIshRequest(an+"/"+y[aw][1]+"="+aq+"&power"+ap);if(aj[aw]&&!aj[aw][ax]){$WH.g_ajaxIshRequest(an+aj[aw].url)}}function ai(ar,ax,am,aw,av){if(ad&&ad._fixTooltip){ar=ad._fixTooltip(ar,l,S,ad)}var ay=false;if(!ar){ar=y[l][2]+" not found :(";ax="inv_misc_questionmark";ay=true}else{if(z!=null){if(z.forg&&$WH.g_reforgeStats[z.forg]){var au=$WH.g_reforgeStats[z.forg];var aA=[au.i1];for(var aq in $WH.g_individualToGlobalStat){if($WH.g_individualToGlobalStat[aq]==aA[0]){aA.push(aq)}}var ao;if((ao=ar.match(new RegExp("(<!--(stat|rtg)("+aA.join("|")+")-->)[+-]?([0-9]+)")))&&!ar.match(new RegExp("<!--(stat|rtg)"+au.i2+"-->[+-]?[0-9]+"))){var az=Math.floor(ao[4]*au.v),ap=LANG.traits[au.s2][0];if(au.i2==6){ar=ar.replace("<!--rs-->","<br />+"+az+" "+ap)}else{ar=ar.replace("<!--rr-->",$WH.sprintfa(LANG.tooltip_genericrating,ap.toLowerCase(),au.i2,az))}ar=ar.replace(ao[0],ao[1]+(ao[4]-az));ar=ar.replace("<!--rf-->",'<span class="q2">'+$WH.sprintfa(LANG.tooltip_reforged,az,LANG.traits[au.s1][2],LANG.traits[au.s2][2])+"</span><br />")}}if(z.pcs&&z.pcs.length){var aB=S.match(/^(\d+)/);aB=aB[1];var an=0;for(var aq=0,at=z.pcs.length;aq<at;++aq){var ao;if(ao=ar.match(new RegExp("<span><!--si([0-9]+:)*"+z.pcs[aq]+'(:[0-9]+)*--><a href="/??item=(\\d+)">(.+?)</a></span>'))){ar=ar.replace(ao[0],'<span class="q8"><!--si'+z.pcs[aq]+'--><a href="/item='+ao[3]+'">'+(($WH.isset("g_items")&&g_items[z.pcs[aq]])?g_items[z.pcs[aq]]["name_"+g[W]]:ao[4])+"</a></span>");++an}}if(an>0){ar=ar.replace("(0/","("+an+"/");ar=ar.replace(new RegExp("<span>\\(([0-"+an+"])\\)","g"),'<span class="q2">($1)')}}if(z.know&&z.know.length){ar=$WH.g_setTooltipSpells(ar,z.know,aw)}if(z.lvl){ar=$WH.g_setTooltipLevel(ar,z.lvl,z.buff)}if(z.who&&z.when){ar=ar.replace("<table><tr><td><br />",'<table><tr><td><br /><span class="q2">'+$WH.sprintf(H.achievementcomplete,z.who,z.when.getMonth()+1,z.when.getDate(),z.when.getFullYear())+"</span><br /><br />");ar=ar.replace(/class="q0"/g,'class="r3"')}}}if(z.map&&am&&am.getMap){av=am.getMap()}if(n==1){$WH.Tooltip.setIcon(null);$WH.Tooltip.show(ad,ar,null,null,null,av)}else{$WH.Tooltip.setIcon(ax);$WH.Tooltip.showAtXY(ar,Q,O,w,K,av)}if(Z&&$WH.Tooltip.logo){$WH.Tooltip.logo.style.display=(G?"block":"none")}}function t(an,ap,ao){if(l==an&&S==ap&&W==ao){ai(H.loading);var am=y[an][0];am[ap].timer=setTimeout(function(){P.apply(this,[an,ap,ao])},3850)}}function P(an,ap,ao){var am=y[an][0];am[ap].status[ao]=o;if(l==an&&S==ap&&W==ao){ai(H.noresponse)}}function k(an,am){return an+(am.rand?"r"+am.rand:"")+(am.ench?"e"+am.ench:"")+(am.gems?"g"+am.gems.join(","):"")+(am.sock?"s":"")}this.loadScales=function(ao,ap){var am=y[ao][0];for(var an in g){if(ap==an||(!ap&&!isNaN(an))){aj[ao][an]=1;for(var aq in am){if(am[aq].status[an]==Y&&am[aq].response[an]){am[aq].response[an]()}}}}};this.register=function(ao,aq,ap,an){var am=y[ao][0];r(ao,aq,ap);if(aj[ao]&&!aj[ao][ap]){am[aq].status[ap]=Y;am[aq].response[ap]=this.register.bind(this,ao,aq,ap,an);return}if(am[aq].timer){clearTimeout(am[aq].timer);am[aq].timer=null}if(!$WH.wowheadRemote&&an.map){if(am[aq].map==null){am[aq].map=new Mapper({parent:$WH.ce("div"),zoom:3,zoomable:false,buttons:false})}am[aq].map.update(an.map);delete an.map}$WH.cO(am[aq],an);if(am[aq].status[ap]==T||am[aq].status[ap]==Y){if(am[aq][ab(ap)]){am[aq].status[ap]=U}else{am[aq].status[ap]=A}}if(l==ao&&aq==S&&W==ap){ai(am[aq][ab(ap)],am[aq].icon,am[aq].map,am[aq][al(ap)],am[aq][ab(ap,2)])}};this.registerNpc=function(ao,an,am){this.register(C,ao,an,am)};this.registerPetAbility=function(ao,an,am){this.register(s,ao,an,am)};this.registerObject=function(ao,an,am){this.register(q,ao,an,am)};this.registerItem=function(ao,an,am){this.register(I,ao,an,am)};this.registerTransmogSet=function(ao,an,am){this.register(d,ao,an,am)};this.registerQuest=function(ao,an,am){this.register(M,ao,an,am)};this.registerSpell=function(ao,an,am){this.register(B,ao,an,am)};this.registerAchievement=function(ao,an,am){this.register(u,ao,an,am)};this.registerProfile=function(ao,an,am){this.register(p,ao,an,am)};this.request=function(am,aq,ao,ap){if(!ap){ap={}}var an=k(aq,ap);r(am,an,ao);e(am,aq,ao,1,ap)};this.requestItem=function(an,am){this.request(I,an,b.getId(),am)};this.requestSpell=function(am){this.request(B,am,b.getId())};this.getStatus=function(an,ap,ao){var am=y[an][0];if(am[ap]!=null){return am[ap].status[ao]}else{return V}};this.getItemStatus=function(an,am){this.getStatus(I,an,am)};this.getSpellStatus=function(an,am){this.getStatus(B,an,am)};if(Z){this.set=function(am){$WH.cO(D,am)};this.showTooltip=function(ao,am,an){v(ao);ai(am,an)};this.hideTooltip=function(){$WH.Tooltip.hide()};this.moveTooltip=function(am){a(am)}}ae()}};